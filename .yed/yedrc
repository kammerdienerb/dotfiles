###############################################################################
#     yedrc
#     Brandon Kammerdiener
###############################################################################

### @plugins ###

# 'yedrc' is already loaded by init.c
# That's how we're loading this file.

# NOTE: these aren't working right now
# plugin-load 'lazy_plug'
# plugin-load 'run_on_ft'
#    lazy-plug-ft ".c"     'lang/c'
#    lazy-plug-ft ".cpp"   'lang/c'
#    lazy-plug-ft ".sh"    'lang/sh'
#    lazy-plug-ft ".bjou"  'lang/bjou'
#    lazy-plug-ft ".tex"   'lang/latex'
#    lazy-plug-ft ".py"    'lang/python'
#    lazy-plug-ft ".yedrc" 'lang/yedrc'
#    lazy-plug-ft ".jgr"   'lang/jgraph'
#    lazy-plug-ft ".glsl"  'lang/glsl'
#    lazy-plug-ft ".si"    'lang/simon'

plugin-load 'lang/c'
plugin-load 'lang/sh'
plugin-load 'lang/bjou'
plugin-load 'lang/latex'
plugin-load 'lang/python'
plugin-load 'lang/yedrc'
plugin-load 'lang/jgraph'
plugin-load 'lang/glsl'
plugin-load 'lang/simon'
plugin-load 'lang/slide'


plugin-load 'vimish'
# plugin-load 'brace_hl'
plugin-load 'paren_hl'
plugin-load 'tag_hl'
# plugin-load 'cursor_word_hl'
plugin-load 'log_hl'
plugin-load 'indent_c'
plugin-load 'comment'
plugin-load 'align'
plugin-load 'autotrim'
plugin-load 'completer'
plugin-load 'grep'
plugin-load 'find_file'
plugin-load 'man'
plugin-load 'style_picker'
plugin-load 'style_use_term_bg'
# plugin-load 'focus_frame'
plugin-load 'style_pack'
plugin-load 'mk_src_pair'
plugin-load 'builder'
plugin-load 'ctags'
plugin-load 'line_numbers'

### @variables ###
set tab-width                    4
set latex-comp-prg               "xelatex -halt-on-error --interaction=nonstopmode '%'"
set latex-view-prg               "echo \"okular '%'\" | $SHELL &"
set latex-update-view-prg        "" # "pkill -HUP mupdf 2>&1 > /dev/null"
set cursor-line                  "yes"
set vimish-insert-no-cursor-line "yes"

### @style ###
style casey

### @keybindings ###
vimish-bind  insert  j j        CMD  vimish-exit-insert
vimish-bind  normal  spc c o    CMD  comment-toggle
vimish-bind  normal  spc l c    CMD  latex-compile-current-file
vimish-bind  normal  spc l v    CMD  latex-view-current-file
vimish-bind  normal  spc r d    CMD  redraw
vimish-bind  normal  spc v s p  CMD  frame-vsplit
vimish-bind  normal  spc h s p  CMD  frame-hsplit
vimish-bind  normal  spc b o    CMD  fill-command-prompt buffer
vimish-bind  normal  spc b d    CMD  buffer-delete
vimish-bind  normal  ctrl-n     CMD  buffer-next
vimish-bind  normal  ctrl-p     CMD  buffer-prev
vimish-bind  normal  M M        CMD  man-word
vimish-bind  normal  L L        CMD  fill-command-prompt cursor-line
vimish-bind  normal  ctrl-l     CMD  frame-next
# Don't really use this that much and would prefer to not see the warnings.
# vimish-bind  normal  ctrl-h     CMD  frame-prev
vimish-bind  normal  >          CMD  indent
vimish-bind  normal  <          CMD  unindent
vimish-bind  normal  spc g      CMD  grep
vimish-bind  normal  spc f      CMD  find-file
vimish-bind  normal  spc a l    CMD  fill-command-prompt align
vimish-bind  normal  ctrl-y     CMD  builder-start
vimish-bind  normal  E E        CMD  builder-jump-to-error
vimish-bind  normal  V V        CMD  builder-view-output
vimish-bind  normal  spc t      CMD  ctags-find
vimish-bind  normal  T T        CMD  kammerdienerb-jump-to-tag-in-split # wrapper for ctags-jump-to-definition

### @project ###
# Load directory-specific rc file.
yedrc-load ".yedrc"
